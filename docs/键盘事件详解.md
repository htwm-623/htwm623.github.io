---
title: é”®ç›˜äº‹ä»¶è¯¦è§£
urlname: kg1mh6
date: '2021-05-30 07:41:07 +0800'
tags:
  - javascript
  - vue
categories:
  - æŠ€æœ¯ç¬”è®°
---

## ä¸€ã€æŒ‰é”®äº‹ä»¶åŸºç¡€

1. `keydown`: é”®ç›˜æŒ‰ä¸‹äº‹ä»¶(æŒ‰ä½é”®ç›˜ä¸æ¾ï¼Œä¼šå¤šæ¬¡è§¦å‘)
1. `keypress`: æ¥ç€ keydown äº‹ä»¶è§¦å‘(åªæœ‰æŒ‰ä¸‹å­—ç¬¦é”®æ—¶è§¦å‘ï¼Œæ¯”å¦‚æ•°å­—ï¼Œå­—æ¯ï¼Œç¬¦å·ï¼Œ ä¹Ÿä¼šå¤šæ¬¡è§¦å‘)
1. `keyup`ï¼šé”®ç›˜é‡Šæ”¾äº‹ä»¶ï¼Œé”®ç›˜é‡Šæ”¾æ—¶è§¦å‘

## äºŒã€äº‹ä»¶æ³¨å†Œ

é”®ç›˜äº‹ä»¶ä¸­å¯ä»¥åœ¨å‡½æ•°ä¸­ä¼ å…¥å‚æ•°ï¼Œ æˆ–è€…åœ¨å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨ event

```javascript
<script>
    window.onload = () => {
      document.onkeydown = () => {
        console.log(event)
      }
      document.addEventListener('keydown', () => {
        console.log(event)
      })
    }
  </script>
```

or

```javascript
<element onkeyup="SomeJavaScriptCode">
```

## ä¸‰ã€è§¦å‘è¿‡ç¨‹

1. ç”¨æˆ·æŒ‰ä¸‹å­—ç¬¦é”®

- é¦–å…ˆä¼šè§¦å‘`keydown`äº‹ä»¶
- ç„¶åç´§æ¥ç€è§¦å‘`keypress`äº‹ä»¶
- æœ€åè§¦å‘`keyup`äº‹ä»¶
- å¦‚æœç”¨æˆ·æŒ‰ä¸‹äº†ä¸€ä¸ª*å­—ç¬¦é”®*ä¸æ”¾ï¼Œå°±ä¼šé‡å¤è§¦å‘`keydown`å’Œ`keypress`äº‹ä»¶ï¼Œç›´åˆ°ç”¨æˆ·æ¾å¼€è¯¥é”®ä¸ºæ­¢

2. ç”¨æˆ·æŒ‰ä¸‹éå­—ç¬¦é”®

- é¦–å…ˆä¼šè§¦å‘`keydown`äº‹ä»¶
- ç„¶åå°±è§¦å‘`key`äº‹ä»¶
- å¦‚æœç”¨æˆ·æŒ‰ä¸‹äº†ä¸€ä¸ª*éå­—ç¬¦é”®*ä¸æ”¾ï¼Œå°±ä¼šé‡å¤è§¦å‘ keydown äº‹ä»¶ï¼Œç›´åˆ°ç”¨æˆ·æ¾å¼€è¯¥é”®ä¸ºæ­¢

## å››ã€è·å–æŒ‰é”®å€¼

1. [KeyboardEvent.charCode](https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/charCode) å’Œ [KeyBoardEvent.keyCode](https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/keyCode)å·²ä» web æ ‡å‡†ä¸­åˆ é™¤
1. è®¤ä¸ºå½“å‰ç¯å¢ƒä¸‹ï¼Œæµè§ˆå™¨å‚å•†åº”è¯¥ä¼šä¸€ç›´ä¿æŒæ”¯æŒï¼Œè¿˜æ˜¯ç»§ç»­å¯ä»¥ä½¿ç”¨ ğŸ˜‚
1. æ¨èä½¿ç”¨ [KeyboardEvent.key](https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/key) å±æ€§ç¡®å®šé”®ç›˜äº‹ä»¶ï¼Œ [KeyboardEvent.key é”®å€¼è¡¨](https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/key/Key_Values)

## äº”ã€æ³¨æ„äº‹é¡¹

1. `keypress` æ— æ³•å“åº”ç³»ç»ŸåŠŸèƒ½é”®å¦‚(`delete`, `backspace`)
1. `keypress` åœ¨ä¸­æ–‡è¾“å…¥è¿‡ç¨‹ä¸­æ˜¯æ— æ³•è§¦å‘çš„
1. `keyup`ä¸­æ— æ³•é˜»æ­¢æµè§ˆå™¨é»˜è®¤äº‹ä»¶ï¼Œ è‹¥éœ€é˜»æ­¢æµè§ˆå™¨é»˜è®¤äº‹ä»¶ï¼Œåº”è¯¥åœ¨`keydonw`æˆ–`keypress`ä¸­é˜»æ­¢
1. `keyup`ï¼Œ`keydown` å¯ä»¥ç›‘å¬`ctrl`ã€`alt`ã€`shift`é”®ï¼Œè€Œå½“æŒ‰ä¸‹ç³»ç»ŸåŠŸèƒ½é”®æ—¶å†æŒ‰å­—ç¬¦é”®ï¼Œæ— æ³•è§¦å‘`keypress`äº‹ä»¶

## å…­ã€ç»„åˆæŒ‰é”®

1. ä¸ `ctrl`ã€`alt`ã€`shift`é”®ç»„åˆï¼Œ å¯ä»¥ç›´æ¥å† keydown äº‹ä»¶ä¸­åˆ¤æ–­`ctrlKey`ã€`altKey`ã€`shiftKey`çš„å€¼

```javascript
document.addEventListener("keydown", () => {
  if (event.ctrlKey && event.key === "c") {
    console.log("key down ctrl + c");
  }
});
```

2. å¤šä¸ªå­—æ¯é”®ç»„åˆï¼Œæ‰‹åŠ¨å®ç°ï¼Œå†`keydown`äº‹ä»¶å°†é”®ä½å­˜å…¥ï¼Œ `keyup`äº‹ä»¶æ—¶é‡Šæ”¾

```javascript
let key = {};
document.addEventListener("keydown", () => {
  key[event.key] = 1;
  if (key["b"] && key["c"]) {
    console.log("key down b + c");
  }
});
document.addEventListener("keyup", () => {
  delete key[event.key];
});
```

## ä¸ƒã€VUE ä¸­ä½¿ç”¨é”®ç›˜äº‹ä»¶

1. åœ¨ mountd ä¸­æ³¨å†Œ

```javascript
mounted () {
    window.addEventListener('keyup',this.handleKeyup)
    window.addEventListener('scroll',this.handleScroll)
},
```

2. åœ¨å…ƒç´ ä¸­ä½¿ç”¨, æŒ‰é”®ä¿®é¥°ç¬¦å‚è€ƒ [vue æŒ‰é”®ä¿®é¥°ç¬¦](https://cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6)

```javascript
<input @keyup.page-down="onPageDown">
```

3. åœ¨å¯¹äºå·²ç»å°è£…çš„ç»„ä»¶ï¼Œéœ€è¦åŠ ä¸Š`native`ä¿®é¥°ç¬¦,native ä¿®é¥°ç¬¦å¯ä»¥è®©çˆ¶ç»„ä»¶æ¥æ”¶åˆ°åŸç”Ÿäº‹ä»¶

```javascript
<el-input @keyup.enter.native="handleEnterInput"></el-input>
```

## å‚è€ƒèµ„æ–™

1. [Keycode å¯¹ç…§è¡¨ï¼ˆé”®ç å¯¹ç…§è¡¨ï¼‰](https://segmentfault.com/a/1190000005828048)
1. [vue æŒ‰é”®ä¿®é¥°ç¬¦](https://cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6)
1. [KeyboardEvent.key é”®å€¼è¡¨](https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/key/Key_Values)
1. [å¼ é‘«æ—­-å‘Šåˆ« js keyCode](https://www.zhangxinxu.com/wordpress/2021/01/js-keycode-deprecated/)
